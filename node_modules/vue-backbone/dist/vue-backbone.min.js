/*!
 * Vue-Backbone v0.1.3
 * https://github.com/mikeapr4/vue-backbone
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueBackbone=t():e.VueBackbone=t()}(this,function(){return r={},o.m=n=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.map(function(e){return e._vuebackbone_proxy});for(var o in e)if("function"==typeof e[o]&&"constructor"!==o&&(t||-1===i.indexOf(o))){var r=e[o].bind(e);t||(r=u(r,o)),Object.defineProperty(n,o,{value:r})}return Object.defineProperty(n,"_vuebackbone_original",{value:e}),n};var i=["slice","forEach","map","reduce","reduceRight","find","filter","every","some","indexOf","lastIndexOf","findIndex"],o=["pop","shift","remove","get","at","where","findWhere","reject","sortBy","shuffle","toArray","detect","select","first","head","take","rest","tail","drop","initial","last","without"];function u(t,e){return-1<o.indexOf(e)?function(){var e=t.apply(this,arguments);return e&&(e._vuebackbone_proxy||e.map(function(e){return e._vuebackbone_proxy}))||e}:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,n){var o={};for(var e in t)if("function"==typeof t[e]&&"constructor"!==e){var r=t[e].bind(t);Object.defineProperty(o,e,{value:r})}return Object.keys(t.attributes).forEach(function(e){!function(e,t,n,o){var r=t.get.bind(t,n),i=t.set.bind(t,n),u=e[n]?o+n:n;Object.defineProperty(e,u,{enumerable:!0,get:r,set:i})}(o,t,e,n)}),o.id||Object.defineProperty(o,"id",{get:function(){return t.id}}),Object.defineProperty(o,"_vuebackbone_original",{value:t}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapBBModels=y,t.install=_,t.original=h;var o=i(n(1)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var u={proxies:!0,conflictPrefix:"$",addComputed:!0,dataPrefix:"_",simpleCollectionProxy:!1};function a(e){u.proxies&&!e._vuebackbone_proxy&&(e.models?(e.each(a),e._vuebackbone_proxy=(0,r.default)(e,u.simpleCollectionProxy)):e._vuebackbone_proxy=(0,o.default)(e,u.conflictPrefix))}function c(e){return e.attributes}function f(e){return e.map(c)}function b(e){return e.models?f(e):c(e)}function s(e){return u.addComputed&&u.proxies?u.dataPrefix+e:e}function p(e,t){var n=e._vuebackbone[t],o=n.bb;o.models?function(e,t,n,o){u.proxies&&(o.on("add",a),n.onreset=function(){return o.each(a)},o.on("reset",n.onreset)),n.onchange=function(){if(e.$data[s(t)]=f(o),u.proxies){var n=o._vuebackbone_proxy;n.length=0,o.forEach(function(e,t){return n[t]=e._vuebackbone_proxy})}},o.on("reset sort remove add",n.onchange)}(e,t,n,o):function(e,t){e.onchange=function(){t.keys().length>Object.keys(t._previousAttributes).length&&console.warn("VueBackbone: Adding new Model attributes after binding is not supported, provide defaults for all properties")},t.on("change",e.onchange)}(n,o)}function d(e,t){var n=e._vuebackbone[t];n&&(n.bb.off(null,n.onchange),n.onreset&&n.bb.off(null,n.onreset))}function l(e,t,n,o){e._vuebackbone[t]={bb:n},a(n),o||(function(e,o){var r=e.$options.data,i=b(e._vuebackbone[o].bb),u=s(o);e.$options.data=function(){var t={},n=r?r.apply(this,arguments):{};if(n.hasOwnProperty(o))throw"VueBackbone: Property '"+o+"' mustn't exist within the Vue data already";if(n.hasOwnProperty(u))throw"VueBackbone: Property '"+u+"' mustn't exist within the Vue data already";return Object.keys(n).forEach(function(e){return t[e]=n[e]}),t[u]=i,t}}(e,t),u.addComputed&&u.proxies?function(t,n){var o=t._vuebackbone[n],r=s(n),e=t.$options;e.computed=e.computed||{},e.computed[n]?console.warn("VueBackbone: Generated computed function '"+n+"' already exists within the Vue computed functions"):e.computed[n]={get:function(){return t.$data[r],o.bb._vuebackbone_proxy},set:function(e){d(t,n),a(e),o.bb=e,t.$data[r]=b(e),p(t,n)}}}(e,t):function(t,n){var o=t._vuebackbone[n],r=s(n);t.$bb=t.$bb||{},Object.defineProperty(t.$bb,n,{get:function(){return t.$data[r],o.bb},set:function(e){d(t,n),o.bb=e,t.$data[r]=b(e),p(t,n)}})}(e,t)),p(e,t)}var v={beforeCreate:function(){var o=this,r=o.$options.bb;if(r){if("function"!=typeof r)throw"VueBackbone: 'bb' initialization option must be a function";r=r(),o._vuebackbone={},Object.keys(r).forEach(function(e){var t=r[e],n=!1;if(!0===t.prop){if(!o.$options.propsData||!o.$options.propsData[e])throw"VueBackbone: Missing Backbone object in Vue prop '"+e+"'";t=o.$options.propsData[e],n=!0}if(!(t=t._vuebackbone_original||t).on||!t.attributes&&!t.models)throw"VueBackbone: Unrecognized Backbone object in Vue instantiation ("+e+"), must be a Collection or Model";l(o,e,t,n)})}},destroyed:function(){var t=this,e=t._vuebackbone;e&&Object.keys(e).forEach(function(e){return d(t,e)})}};function y(t){return u.proxies?function(){var e=t.apply(this,arguments);return e&&(e._vuebackbone_proxy||e.map(function(e){return e._vuebackbone_proxy}))||e}:function(){var e=t.apply(this,arguments);return e&&(e.attributes||e.map(function(e){return e.attributes}))||e}}function _(e,t){for(var n in t)t.hasOwnProperty(n)&&(u[n]=t[n]);e.mixin(v)}function h(e){return e._vuebackbone_original||e}t.default={install:_,mapBBModels:y,original:h}}],o.c=r,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});